<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Trial Activity Timeline</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1>Dynamic Trial Activity Timeline</h1>
    <div id="timeline"></div>

    <!-- JavaScript to Create the Gantt Chart -->
    <script>
        // Trial activity data for 12 centres
        const trialData = [
            { Centre: "Centre 1", Activity: "Onboarding", Start: "2025-05-01", End: "2025-05-15" },
            { Centre: "Centre 1", Activity: "Baseline Data Collection", Start: "2025-05-16", End: "2025-08-15" },
            { Centre: "Centre 1", Activity: "Clinic Appointment 1", Start: "2025-08-16", End: "2025-11-15" },
            { Centre: "Centre 1", Activity: "Clinic Appointment 2", Start: "2025-11-16", End: "2026-02-15" },
            { Centre: "Centre 2", Activity: "Onboarding", Start: "2025-06-01", End: "2025-06-15" },
            { Centre: "Centre 2", Activity: "Baseline Data Collection", Start: "2025-06-16", End: "2025-09-15" },
            { Centre: "Centre 2", Activity: "Clinic Appointment 1", Start: "2025-09-16", End: "2025-12-15" },
            { Centre: "Centre 2", Activity: "Clinic Appointment 2", Start: "2025-12-16", End: "2026-03-15" },
            { Centre: "Centre 3", Activity: "Onboarding", Start: "2025-07-01", End: "2025-07-15" },
            { Centre: "Centre 3", Activity: "Baseline Data Collection", Start: "2025-07-16", End: "2025-10-15" },
            { Centre: "Centre 3", Activity: "Clinic Appointment 1", Start: "2025-10-16", End: "2026-01-15" },
            { Centre: "Centre 3", Activity: "Clinic Appointment 2", Start: "2026-01-16", End: "2026-04-15" },
            { Centre: "Centre 4", Activity: "Onboarding", Start: "2025-08-01", End: "2025-08-15" },
            { Centre: "Centre 4", Activity: "Baseline Data Collection", Start: "2025-08-16", End: "2025-11-15" },
            { Centre: "Centre 4", Activity: "Clinic Appointment 1", Start: "2025-11-16", End: "2026-02-15" },
            { Centre: "Centre 4", Activity: "Clinic Appointment 2", Start: "2026-02-16", End: "2026-05-15" },
            { Centre: "Centre 5", Activity: "Onboarding", Start: "2025-09-01", End: "2025-09-15" },
            { Centre: "Centre 5", Activity: "Baseline Data Collection", Start: "2025-09-16", End: "2025-12-15" },
            { Centre: "Centre 5", Activity: "Clinic Appointment 1", Start: "2025-12-16", End: "2026-03-15" },
            { Centre: "Centre 5", Activity: "Clinic Appointment 2", Start: "2026-03-16", End: "2026-06-15" },
            { Centre: "Centre 6", Activity: "Onboarding", Start: "2025-10-01", End: "2025-10-15" },
            { Centre: "Centre 6", Activity: "Baseline Data Collection", Start: "2025-10-16", End: "2026-01-15" },
            { Centre: "Centre 6", Activity: "Clinic Appointment 1", Start: "2026-01-16", End: "2026-04-15" },
            { Centre: "Centre 7", Activity: "Onboarding", Start: "2025-11-01", End: "2025-11-15" },
            { Centre: "Centre 7", Activity: "Baseline Data Collection", Start: "2025-11-16", End: "2026-02-15" },
            { Centre: "Centre 7", Activity: "Clinic Appointment 1", Start: "2026-02-16", End: "2026-05-15" },
            { Centre: "Centre 8", Activity: "Onboarding", Start: "2025-12-01", End: "2025-12-15" },
            { Centre: "Centre 8", Activity: "Baseline Data Collection", Start: "2025-12-16", End: "2026-03-15" },
            { Centre: "Centre 8", Activity: "Clinic Appointment 1", Start: "2026-03-16", End: "2026-06-15" },
            { Centre: "Centre 9", Activity: "Onboarding", Start: "2026-01-01", End: "2026-01-15" },
            { Centre: "Centre 9", Activity: "Baseline Data Collection", Start: "2026-01-16", End: "2026-04-15" },
            { Centre: "Centre 9", Activity: "Clinic Appointment 1", Start: "2026-04-16", End: "2026-07-15" },
            { Centre: "Centre 12", Activity: "Onboarding", Start: "2026-07-01", End: "2026-07-15" },
            { Centre: "Centre 12", Activity: "Baseline Data Collection", Start: "2026-07-16", End: "2026-10-15" },
        ];

        // Prepare data for Plotly Gantt chart
        const plotData = trialData.map(item => ({
            x: [item.Start, item.End],
            y: [item.Centre, item.Centre],
            type: "scatter",
            mode: "lines+markers",
            line: { width: 10 },
            name: item.Activity,
            hoverinfo: "name+x",
        }));

        // Define layout
        const layout = {
            title: "Dynamic Trial Activity Timeline",
            xaxis: {
                title: "Date",
                type: "date",
                tickformat: "%b-%Y",
            },
            yaxis: {
                title: "Centres",
                automargin: true,
            },
            margin: {
                l: 150, // Space for long Centre names
            },
        };

        // Render the Plotly chart
        Plotly.newPlot("timeline", plotData, layout);
    </script>
</body>
</html>
